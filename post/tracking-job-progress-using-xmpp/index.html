<!doctype html><html lang=en itemscope itemtype=http://schema.org/WebPage><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><title>Tracking Computing Job Progress Using sendxmpp - Prashant Meckoni</title><meta name=description content="Short description"><meta name=author content="Prashant Meckoni"><script type=application/ld+json>{"@context":"http://schema.org","@type":"WebSite","name":"Prashant Meckoni","url":"https:\/\/pmeckoni.github.io\/"}</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"Organization","name":"","url":"https:\/\/pmeckoni.github.io\/"}</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"https:\/\/pmeckoni.github.io\/","name":"home"}},{"@type":"ListItem","position":3,"item":{"@id":"https:\/\/pmeckoni.github.io\/post\/tracking-job-progress-using-xmpp\/","name":"Tracking computing job progress using sendxmpp"}}]}</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"Article","author":{"name":"Prashant Meckoni"},"headline":"Tracking Computing Job Progress Using sendxmpp","description":"Short description","inLanguage":"en","wordCount":834,"datePublished":"2021-06-01T00:20:22","dateModified":"2021-06-01T00:20:22","image":"https:\/\/pmeckoni.github.io\/img\/prashant_square.jpg","keywords":["computing"],"mainEntityOfPage":"https:\/\/pmeckoni.github.io\/post\/tracking-job-progress-using-xmpp\/","publisher":{"@type":"Organization","name":"https:\/\/pmeckoni.github.io\/","logo":{"@type":"ImageObject","url":"https:\/\/pmeckoni.github.io\/img\/prashant_square.jpg","height":60,"width":60}}}</script><meta property="og:title" content="Tracking Computing Job Progress Using sendxmpp"><meta property="og:description" content="Short description"><meta property="og:image" content="https://pmeckoni.github.io/img/prashant_square.jpg"><meta property="og:url" content="https://pmeckoni.github.io/post/tracking-job-progress-using-xmpp/"><meta property="og:type" content="website"><meta property="og:site_name" content="Prashant Meckoni"><meta name=twitter:title content="Tracking Computing Job Progress Using sendxmpp"><meta name=twitter:description content="Short description"><meta name=twitter:image content="https://pmeckoni.github.io/img/prashant_square.jpg"><meta name=twitter:card content="summary"><link href=https://pmeckoni.github.io/img/favicon.ico rel=icon type=image/x-icon><meta name=generator content="Hugo 0.83.1"><link rel=alternate href=https://pmeckoni.github.io/index.xml type=application/rss+xml title="Prashant Meckoni"><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.5.0/css/all.css integrity=sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU crossorigin=anonymous><link rel=stylesheet href=https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css integrity=sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u crossorigin=anonymous><link rel=stylesheet href=https://pmeckoni.github.io/css/main.css><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic"><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800"><link rel=stylesheet href=https://pmeckoni.github.io/css/highlight.min.css><link rel=stylesheet href=https://pmeckoni.github.io/css/codeblock.css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.css integrity=sha384-h/L2W9KefUClHWaty3SLE5F/qvc4djlyR4qY3NUV5HGQBBW7stbcfff1+I/vmsHh crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/default-skin/default-skin.min.css integrity=sha384-iD0dNku6PYSIQLyfTOpB06F2KCZJAKLOThS5HRe8b3ibhdEQ6eKsFf/EeFxdOt5R crossorigin=anonymous></head><body><nav class="navbar navbar-default navbar-fixed-top navbar-custom"><div class=container-fluid><div class=navbar-header><button type=button class=navbar-toggle data-toggle=collapse data-target=#main-navbar>
<span class=sr-only>Toggle navigation</span>
<span class=icon-bar></span><span class=icon-bar></span><span class=icon-bar></span></button>
<a class=navbar-brand href=https://pmeckoni.github.io/>Prashant Meckoni</a></div><div class="collapse navbar-collapse" id=main-navbar><ul class="nav navbar-nav navbar-right"><li><a title=Articles href=/post/>Articles</a></li></ul></div><div class=avatar-container><div class=avatar-img-border><a title="Prashant Meckoni" href=https://pmeckoni.github.io/><img class=avatar-img src=https://pmeckoni.github.io/img/prashant_square.jpg alt="Prashant Meckoni"></a></div></div></div></nav><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><header class=header-section><div class="intro-header no-img"><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><div class=post-heading><h1>Tracking Computing Job Progress Using sendxmpp</h1><span class=post-meta><i class="fas fa-calendar"></i>&nbsp;Posted on Jun 1, 2021</span></div></div></div></div></div></header><div class=container role=main><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><article role=main class=blog-post><p>Tracking the progress of scientific computing jobs using <code>sendxmpp</code> and XMPP is easy. This is extremely useful when running jobs remotely.</p><p>I run most of my computing jobs on a "remote" server, which is basically my lab computer, while controlling it using my personal laptop.
Earlier, I used to keep my ssh session active to keep track on the progress of the job.
Then, after a few mishaps, I started using GNU Screen to allow the jobs to run without requiring the ssh session to be active.
Still I had to continue to frequently check the progress of the job using ssh login.
This was painful. I wanted a notification system that would let me know the progress, instead of me checking, periodically, on the progress.</p><p><a href=https://sendxmpp.hostname.sk/>sendxmpp</a> came to my rescue.</p><blockquote><p><code>sendxmpp</code> is a perl-script to send xmpp (<a href=https://www.jabber.org/>jabber</a>), similar to what <code>mail(1)</code> does for mail.</p></blockquote><p>The package is extremely easy to install, configure and use.</p><div id=outline-container-headline-1 class=outline-2><h2 id=headline-1>XMPP account</h2><div id=outline-text-headline-1 class=outline-text-2><p>The first thing needed is a valid XMPP account. There are free servers available. You can also self-host a server, if you have lots of spare time.
<a href=https://404.city/>404.city</a> and <a href=http://a3.pm/>a3.pm</a> may work. Your username will be in the form of <strong>user@domain</strong>.
If you have Google Hangouts and have used Google Talk earlier, then your Hangouts account may receive XMPP messages.
However, setup is a pain if you cannot have application specific passwords setup on your Google account.</p></div></div><div id=outline-container-headline-2 class=outline-2><h2 id=headline-2>Set up XMPP client on your laptop, smartphone, or desktop</h2><div id=outline-text-headline-2 class=outline-text-2><p>Install and login to an XMPP client for your smartphone or your computer. If you don't know of any clients, use one of the following:</p><ul><li><p><a href=https://conversations.im/>Conversations.im</a> is a good client for Android.</p></li><li><p><a href=https://pidgin.im/>Pidgin</a> is a good client for GNU/Linux and Windows..</p></li><li><p><a href=https://beagle.im/>Beagle IM</a> and <a href=https://adium.im/>Adium</a> are good clients for macOS.
You can use multiple clients at the same time. The server recognizes each client separately using the <code>resource</code> setting.
You can leave the <code class=verbatim>resource</code> setting blank, where the client will set it to its own default value, or you can set it yourself to something like <code class=verbatim>myclient</code> for finer control.
You can send messages to a specific client when you address your messages to a particular resource using <strong>user@domain/myclient</strong>, or to all clients using <strong>user@domain</strong>.</p></li></ul></div></div><div id=outline-container-headline-3 class=outline-2><h2 id=headline-3>Installation on remote server</h2><div id=outline-text-headline-3 class=outline-text-2><p>This is an extremely mature software. The last release is 2014. XMPP is an extremely stable protocol. We do not need to install any server software. Only the <code>sendxmpp</code> software needs to be installed.</p><p>On most debian based systems you can install using</p><div class="src src-bash"><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>  sudo apt update
  sudo apt install sendxmpp -y</code></pre></div></div></div></div><div id=outline-container-headline-4 class=outline-2><h2 id=headline-4>Configuration</h2><div id=outline-text-headline-4 class=outline-text-2><p>You can Add configuration settings in the <code>~/.sendxmpprc</code> file for an account <strong>user@domain</strong> and password <strong>mypass</strong>.
The standard default port on the XMPP server is 5222 and is supposed to accept TLS connections. SSL based port of 5223 has been deprecated many years back.</p><pre class=example>
username: user
jserver: domain
port: 5222
password: mypass
</pre></div></div><div id=outline-container-headline-5 class=outline-2><h2 id=headline-5>Test your script</h2><div id=outline-text-headline-5 class=outline-text-2><p>On your remote server where you have installed <code>sendxmpp</code>, you can now test the script.</p><div class="src src-bash"><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>  <span class=nb>echo</span> <span class=s2>&#34;Hello. Message from host: `hostname`&#34;</span>  <span class=p>|</span> sendxmpp user@domain</code></pre></div></div><p>If your XMPP server uses TLS, then try:</p><div class="src src-bash"><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>  <span class=nb>echo</span> <span class=s2>&#34;Hello. Message from host: `hostname`&#34;</span>  <span class=p>|</span> sendxmpp --tls user@domain</code></pre></div></div><p>To send message to a specific client or resource, try:</p><div class="src src-bash"><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>  <span class=nb>echo</span> <span class=s2>&#34;Hello. Message from host: `hostname`&#34;</span>  <span class=p>|</span> sendxmpp --tls user@domain/myclient</code></pre></div></div><p>You will receive XMPP messages from your own account, which is equivalent to sending an email to yourself.
You can use separate accounts — one for sending XMPP messages from your script and other for receiving XMPP messages on your client.</p></div></div><div id=outline-container-headline-6 class=outline-2><h2 id=headline-6>Send progress messages from your script</h2><div id=outline-text-headline-6 class=outline-text-2><p>Once everything works, you can now set up your script to report the progress to you.
Below is a sample of how to use it.</p><div class="src src-bash"><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>  <span class=c1>#!/usr/bash</span>
  <span class=nb>echo</span> <span class=s2>&#34;Starting script at `date` on `hostname`&#34;</span>  <span class=p>|</span> sendxmpp --tls user@domain
  ./run_first_part
  <span class=nb>echo</span> <span class=s2>&#34;Completed first part at `date` on `hostname`&#34;</span>  <span class=p>|</span> sendxmpp --tls user@domain
  ./run_second_part
  <span class=nb>echo</span> <span class=s2>&#34;Completed second part at `date` on `hostname`&#34;</span>  <span class=p>|</span> sendxmpp --tls user@domain</code></pre></div></div></div></div><div id=outline-container-headline-7 class=outline-2><h2 id=headline-7>Alternatives</h2><div id=outline-text-headline-7 class=outline-text-2><p><code>mail</code> is an alternative to sending messages by email. I prefer <code>sendxmpp</code> over <code>mail</code> because:</p><ol><li><p>XMPP is supposed to be nearly instant,</p></li><li><p>XMPP clients have notifications for new message arrivals,</p></li><li><p>email still requires the client to poll the server to periodically check for new messages.</p></li></ol><p>You may prefer <code>mail</code> if you want to send long logs as attached files or if you want finer control on messages.</p></div></div><div id=outline-container-headline-8 class=outline-2><h2 id=headline-8>Conclusion</h2><div id=outline-text-headline-8 class=outline-text-2><p>This reduces frequently checking what is going on with the script. It also allows you to get results, error codes or any other information that you would like to get as your script progresses.
This should be really useful for all researchers and programmers who run long computation jobs for things like simulations, machine learning and other kinds of scientific computing.</p><p>Please be aware that the <code>sendxmp</code> does not directly provide end-to-end encryption. You can use GnuPG in your <code>sendxmpp</code> scripts along with OpenPGP supported XMPP clients to help you on it.
Generally, progress notifications are not sensitive enough to warrant use of OpenPGP over XMPP, so you may not need it.</p></div></div><div class=blog-tags><a href=https://pmeckoni.github.io//tags/computing/>computing</a>&nbsp;</div></article><ul class="pager blog-pager"><li class=previous><a href=https://pmeckoni.github.io/post/working-offline/ data-toggle=tooltip data-placement=top title="Working Offline">&larr; Previous Post</a></li></ul></div></div></div><footer><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><ul class="list-inline text-center footer-links"><li><a href=mailto:pmeckoni@gmail.com title="Email me"><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fas fa-envelope fa-stack-1x fa-inverse"></i></span></a></li><li><a href title=RSS><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fas fa-rss fa-stack-1x fa-inverse"></i></span></a></li></ul><p class="credits copyright text-muted"><a href=pmeckoni.github.io>Prashant Meckoni</a>
&nbsp;&bull;&nbsp;&copy;
2021
&nbsp;&bull;&nbsp;
<a href=https://pmeckoni.github.io/>Prashant Meckoni</a></p><p class="credits theme-by text-muted"><a href=https://gohugo.io>Hugo v0.83.1</a> powered &nbsp;&bull;&nbsp; Theme <a href=https://github.com/halogenica/beautifulhugo>Beautiful Hugo</a> adapted from <a href=https://deanattali.com/beautiful-jekyll/>Beautiful Jekyll</a></p></div></div></div></footer><script src=https://code.jquery.com/jquery-1.12.4.min.js integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin=anonymous></script><script src=https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js integrity=sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa crossorigin=anonymous></script><script src=https://pmeckoni.github.io/js/main.js></script><script src=https://pmeckoni.github.io/js/highlight.min.js></script><script>hljs.initHighlightingOnLoad()</script><script>$(document).ready(function(){$("pre.chroma").css("padding","0")})</script><script>renderMathInElement(document.body)</script><script src=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.js integrity=sha384-QELNnmcmU8IR9ZAykt67vGr9/rZJdHbiWi64V88fCPaOohUlHCqUD/unNN0BXSqy crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe-ui-default.min.js integrity=sha384-m67o7SkQ1ALzKZIFh4CiTA8tmadaujiTa9Vu+nqPSwDOqHrDmxLezTdFln8077+q crossorigin=anonymous></script><script src=https://pmeckoni.github.io/js/load-photoswipe.js></script></body></html>